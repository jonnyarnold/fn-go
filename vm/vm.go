package vm

func RunBytecode() string {
	bytecode := []byte{
		DECLARE_CONSTANT, TYPE_INT, 0x02, 0x00,
		DECLARE_CONSTANT, TYPE_FLOAT, 0x02, 0x00,
		SET_REGISTER_WITH_CONSTANT, 0x00, 0x00, 0x00,
		SET_REGISTER_WITH_CONSTANT, 0x01, 0x01, 0x00,
		DUMP, 0x00, 0x00, 0x00,
		ADD, 0x02, 0x00, 0x01,
		DUMP, 0x00, 0x00, 0x00,
		SUBTRACT, 0x03, 0x02, 0x01,
		DUMP, 0x00, 0x00, 0x00,
		MULTIPLY, 0x00, 0x02, 0x02,
		DUMP, 0x00, 0x00, 0x00,
		SET_REGISTER_WITH_CONSTANT, 0x00, 0x01, 0x00,
		SET_REGISTER_WITH_CONSTANT, 0x01, 0x01, 0x00,
		DIVIDE, 0x02, 0x00, 0x01,
		DUMP, 0x00, 0x00, 0x00,
		TERMINATE, 0x00, 0x00, 0x00,
	}

	machine := NewMachine(bytecode)
	machine.ProcessAll()
	return machine.Result()
}
